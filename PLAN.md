# AI å·¥ä½œæµæ™ºèƒ½ä½“ - FlowMind

## é¡¹ç›®æ„¿æ™¯

**FlowMind** ä¸æ˜¯ä¸€ä¸ªç®€å•çš„è‡ªåŠ¨åŒ–å·¥å…·ï¼Œè€Œæ˜¯ä¸€ä¸ª**ä¸»åŠ¨çš„ AI å·¥ä½œæµä¼´ä¾£**ï¼Œå®ƒï¼š
- ğŸ§  **ç†è§£ä½ çš„å·¥ä½œæ¨¡å¼**ï¼šé€šè¿‡ç›‘æ§å­¦ä¹ ä½ çš„ä¹ æƒ¯å’Œåå¥½
- ğŸ’¡ **ä¸»åŠ¨å‘ç°é—®é¢˜**ï¼šAI è¯†åˆ«ä½æ•ˆç¯èŠ‚å¹¶ä¸»åŠ¨å»ºè®®ä¼˜åŒ–
- ğŸ¤– **æ™ºèƒ½æ‰§è¡Œè‡ªåŠ¨åŒ–**ï¼šç”Ÿæˆå¹¶æ‰§è¡Œè‡ªåŠ¨åŒ–è„šæœ¬ï¼Œæ— éœ€ç¼–ç¨‹
- ğŸ“Š **å¯è§†åŒ–å·¥ä½œæµ**ï¼šè®©ä½ æ¸…æ™°åœ°çœ‹åˆ°è‡ªå·±çš„æ—¶é—´éƒ½å»å“ªäº†
- ğŸ§© **è·¨åº”ç”¨è”åŠ¨**ï¼šè®©ä¸åŒåº”ç”¨æ™ºèƒ½åä½œ

---

## æ ¸å¿ƒåˆ›æ–°åŠŸèƒ½

### 1. **æ™ºèƒ½å·¥ä½œæµå‘ç°å¼•æ“** â­
**é—®é¢˜**ï¼šç”¨æˆ·ä¸çŸ¥é“å“ªäº›æ“ä½œå¯ä»¥è‡ªåŠ¨åŒ–
**è§£å†³æ–¹æ¡ˆ**ï¼šAI è‡ªåŠ¨è¯†åˆ«é‡å¤æ€§æ“ä½œæ¨¡å¼

**å·¥ä½œåŸç†**ï¼š
```
ç›‘æ§å±‚ â†’ äº‹ä»¶åºåˆ—åˆ†æ â†’ æ¨¡å¼è¯†åˆ« â†’ AI ç†è§£ â†’ è‡ªåŠ¨åŒ–å»ºè®®
```

**å…·ä½“åœºæ™¯**ï¼š
- ä½ æ¯å¤©æ—©ä¸Šéƒ½æ‰§è¡Œï¼š`æ‰“å¼€ VS Code â†’ æ‰“å¼€ç»ˆç«¯ â†’ cd åˆ°é¡¹ç›® â†’ npm run dev`
- FlowMind æ£€æµ‹åˆ°è¿™ä¸ªæ¨¡å¼ï¼ˆè¿ç»­ 3 æ¬¡ï¼‰
- AI ç”Ÿæˆæ™ºèƒ½å»ºè®®ï¼š"æˆ‘æ³¨æ„åˆ°ä½ æ¯å¤©éƒ½ä¼šé‡å¤è¿™ä¸ªå¯åŠ¨æµç¨‹ï¼Œè¦ä¸€é”®è‡ªåŠ¨åŒ–å—ï¼Ÿ"
- ä½ ç‚¹å‡»"æ˜¯" â†’ FlowMind ç”Ÿæˆ Shell/AppleScript è„šæœ¬
- ä¸‹æ¬¡åªéœ€ä¸€ä¸ªå¿«æ·é”®ï¼Œå…¨éƒ¨è‡ªåŠ¨å®Œæˆ

**æŠ€æœ¯å®ç°**ï¼š
- **äº‹ä»¶åºåˆ—å­˜å‚¨**ï¼šSQLite å­˜å‚¨ç”¨æˆ·æ“ä½œæ—¥å¿—ï¼ˆåº”ç”¨åˆ‡æ¢ã€å¿«æ·é”®ã€å‰ªè´´æ¿ï¼‰
- **åºåˆ—æ¨¡å¼æŒ–æ˜**ï¼šä½¿ç”¨ PrefixSpan æˆ– SPADE ç®—æ³•è¯†åˆ«é¢‘ç¹åºåˆ—
- **AI ç†è§£**ï¼šClaude API ç†è§£åºåˆ—è¯­ä¹‰ï¼Œåˆ¤æ–­æ˜¯å¦å€¼å¾—è‡ªåŠ¨åŒ–
- **è„šæœ¬ç”Ÿæˆ**ï¼šAI ç”Ÿæˆ Shell/Python/AppleScript/Go è„šæœ¬

### 2. **å®æ—¶ AI åŠ©æ‰‹é¢æ¿** â­â­
**é—®é¢˜**ï¼šä¼ ç»ŸåŠ©æ‰‹éœ€è¦åˆ‡æ¢çª—å£ï¼Œæ‰“ä¹±å·¥ä½œæµ
**è§£å†³æ–¹æ¡ˆ**ï¼šå…¨å±€å¿«æ·é”®å”¤èµ·ï¼ŒAI ç†è§£å½“å‰ä¸Šä¸‹æ–‡

**æ ¸å¿ƒç‰¹æ€§**ï¼š
- **å…¨å±€å¿«æ·é”®**ï¼ˆå¦‚ `Cmd+Shift+M`ï¼‰å”¤èµ·åŠé€æ˜é¢æ¿
- **ä¸Šä¸‹æ–‡æ„ŸçŸ¥**ï¼šAI çŸ¥é“ä½ åœ¨ç”¨å“ªä¸ªåº”ç”¨ã€å½“å‰æ–‡ä»¶æ˜¯ä»€ä¹ˆ
- **æ™ºèƒ½å»ºè®®**ï¼šåŸºäºå½“å‰çŠ¶æ€ä¸»åŠ¨æä¾›å¸®åŠ©

**å…·ä½“åœºæ™¯**ï¼š
```javascript
// ä½ æ­£åœ¨ VS Code ä¸­å†™ React ä»£ç 
// æŒ‰ Cmd+Shift+Mï¼Œé¢æ¿å‡ºç°

AI: æˆ‘æ³¨æ„åˆ°ä½ åœ¨å†™ useEffectï¼Œéœ€è¦å¸®åŠ©å—ï¼Ÿ
    [1] ç”Ÿæˆ useEffect æ¨¡æ¿
    [2] æ£€æŸ¥ä¾èµ–é¡¹
    [3] æŸ¥çœ‹æœ€ä½³å®è·µ
    [4] è‡ªå®šä¹‰é—®é¢˜...

// ä½ é€‰æ‹© 1ï¼ŒAI ç›´æ¥åœ¨å½“å‰å…‰æ ‡ä½ç½®æ’å…¥ä»£ç 
```

**æŠ€æœ¯å®ç°**ï¼š
- **å…¨å±€å¿«æ·é”®**ï¼š`github.com/go-vgo/robotgo` æˆ– `github.com/bertnm/g hotkey`
- **åº”ç”¨ä¸Šä¸‹æ–‡**ï¼šé€šè¿‡ macOS Accessibility API è·å–å‰å°åº”ç”¨å’Œé€‰ä¸­å†…å®¹
- **AI å¯¹è¯**ï¼šé›†æˆ Claude APIï¼Œæµå¼å“åº”
- **ä»£ç æ³¨å…¥**ï¼šé€šè¿‡ AppleScript æˆ–æ¨¡æ‹Ÿé”®ç›˜è¾“å…¥æ’å…¥å†…å®¹

### 3. **æ™ºèƒ½å‰ªè—ä¸çŸ¥è¯†å›¾è°±** â­â­â­
**é—®é¢˜**ï¼šå‰ªè—çš„å†…å®¹å®¹æ˜“å †ç§¯ï¼Œéš¾ä»¥åˆ©ç”¨
**è§£å†³æ–¹æ¡ˆ**ï¼šAI è‡ªåŠ¨åˆ†ç±»ã€æ‰“æ ‡ç­¾ã€å»ºç«‹å…³è”

**å·¥ä½œæµç¨‹**ï¼š
```
å‰ªè—ï¼ˆé€‰åŒº/å¿«æ·é”®ï¼‰
    â†“
AI ç†è§£å†…å®¹ + ä¸Šä¸‹æ–‡
    â†“
è‡ªåŠ¨åˆ†ç±» + æ‰“æ ‡ç­¾ + ç”Ÿæˆæ‘˜è¦
    â†“
å‘é‡åŒ–å­˜å‚¨
    â†“
çŸ¥è¯†å›¾è°±å»ºç«‹å…³è”
    â†“
éœ€è¦æ—¶æ™ºèƒ½æ£€ç´¢æ¨è
```

**å…·ä½“åœºæ™¯**ï¼š
- ä½ çœ‹åˆ°ä¸€ç¯‡å…³äº Rust å¼‚æ­¥ç¼–ç¨‹çš„æ–‡ç« ï¼Œä¸€é”®å‰ªè—
- AI è‡ªåŠ¨åˆ†æï¼š
  - æ ‡ç­¾ï¼š`#rust` `#async` `#programming` `#backend`
  - æ‘˜è¦ï¼šRust çš„ async/await ä¸ JavaScript çš„åŒºåˆ«...
  - å…³è”ï¼šä¸ä½ ä¹‹å‰å‰ªè—çš„ "Tokio è¿è¡Œæ—¶" æ–‡ç« å»ºç«‹é“¾æ¥
- 3 å¤©åï¼Œä½ åœ¨å†™ Rust ä»£ç 
- FlowMind ä¸»åŠ¨æ¨é€ï¼š"è®°å¾—ä½ å‰ªè—è¿‡ Rust å¼‚æ­¥ç¼–ç¨‹çš„æ–‡ç« ï¼Œéœ€è¦æŸ¥çœ‹å—ï¼Ÿ"

**æŠ€æœ¯å®ç°**ï¼š
- **æ–‡æœ¬ç†è§£**ï¼šClaude API ç”Ÿæˆæ ‡ç­¾å’Œæ‘˜è¦
- **å‘é‡åŒ–**ï¼šchromem-go æœ¬åœ°å‘é‡æ•°æ®åº“
- **è¯­ä¹‰æœç´¢**ï¼šä½™å¼¦ç›¸ä¼¼åº¦åŒ¹é…ç›¸å…³å†…å®¹
- **çŸ¥è¯†å›¾è°±**ï¼šNeo4j æˆ– SQLite + å›¾ç®—æ³•
- **ä¸Šä¸‹æ–‡è§¦å‘**ï¼šç›‘å¬åº”ç”¨åˆ‡æ¢ï¼Œæ™ºèƒ½æ¨è

### 4. **å·¥ä½œæµå¯è§†åŒ–ä»ªè¡¨æ¿** â­â­
**é—®é¢˜**ï¼šç”¨æˆ·ä¸çŸ¥é“æ—¶é—´éƒ½å»å“ªäº†
**è§£å†³æ–¹æ¡ˆ**ï¼šæ¼‚äº®çš„æ•°æ®å¯è§†åŒ–

**ä»ªè¡¨æ¿åŠŸèƒ½**ï¼š
- ğŸ“ˆ **æ—¶é—´åˆ†å¸ƒå›¾**ï¼šæŒ‰åº”ç”¨ã€é¡¹ç›®ã€ä»»åŠ¡ç±»å‹ç»Ÿè®¡
- ğŸ”„ **å·¥ä½œæµå›¾**ï¼šå±•ç¤ºä½ çš„æ“ä½œæµç¨‹ï¼ˆç±»ä¼¼ Sankey å›¾ï¼‰
- ğŸ¯ **ä¸“æ³¨æ—¶é—´åˆ†æ**ï¼šè¯†åˆ«ä½ çš„é«˜æ•ˆæ—¶æ®µ
- âš ï¸ **å¹²æ‰°æºè¯†åˆ«**ï¼šå“ªäº›é€šçŸ¥æ‰“æ–­äº†ä½ 
- ğŸ’¡ **AI æ´å¯Ÿ**ï¼šæ™ºèƒ½å»ºè®®ä¼˜åŒ–æ–¹å‘

**å…·ä½“åœºæ™¯**ï¼š
```
ä»Šæ—¥å·¥ä½œæµåˆ†æï¼š
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ“Š åº”ç”¨æ—¶é—´åˆ†å¸ƒï¼š
  VS Code     4h 32m  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 45%
  Browser     2h 15m  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  23%
  Terminal    1h 45m  â–ˆâ–ˆâ–ˆâ–ˆ   18%
  Slack         45m  â–ˆâ–ˆ     9%
  Figma         30m  â–ˆ      5%

ğŸ’¡ AI æ´å¯Ÿï¼š
  â€¢ ä½ çš„é«˜æ•ˆæ—¶æ®µæ˜¯ 9:00-11:30
  â€¢ Slack æ‰“æ–­äº†ä½  12 æ¬¡ä¸“æ³¨å·¥ä½œ
  â€¢ å»ºè®®ï¼šå¼€å¯ä¸“æ³¨æ¨¡å¼ï¼Œå»¶è¿Ÿé€šçŸ¥
```

**æŠ€æœ¯å®ç°**ï¼š
- **æ•°æ®æ”¶é›†**ï¼šåå°è¿›ç¨‹è®°å½•åº”ç”¨åˆ‡æ¢ï¼ˆNSWorkspaceï¼‰
- **æ•°æ®å­˜å‚¨**ï¼šSQLite æ—¶é—´åºåˆ—æ•°æ®
- **å¯è§†åŒ–**ï¼š
  - å‰ç«¯ï¼šECharts æˆ– D3.js
  - å›¾è¡¨åº“ï¼š`github.com/wcharczuk/go-chart`ï¼ˆGo ç‰ˆæœ¬ï¼‰
- **AI åˆ†æ**ï¼šClaude API ç”Ÿæˆæ´å¯Ÿå»ºè®®

### 5. **æ™ºèƒ½ä»»åŠ¡è‡ªåŠ¨åŒ–å¼•æ“** â­â­â­
**é—®é¢˜**ï¼šç°æœ‰è‡ªåŠ¨åŒ–å·¥å…·å­¦ä¹ æˆæœ¬é«˜
**è§£å†³æ–¹æ¡ˆ**ï¼šè‡ªç„¶è¯­è¨€æè¿°ï¼ŒAI ç”Ÿæˆå¹¶æ‰§è¡Œ

**å·¥ä½œæµç¨‹**ï¼š
```
ä½ ï¼š"æ¯å¤©ä¸‹åˆ 5 ç‚¹ï¼Œæ€»ç»“æˆ‘ä»Šå¤©å†™çš„ä»£ç å¹¶å‘åˆ° Slack"
    â†“
AI ç†è§£æ„å›¾ â†’ åˆ†æå¯è¡Œæ–¹æ¡ˆ â†’ ç”Ÿæˆè„šæœ¬
    â†“
AI å±•ç¤ºè®¡åˆ’ï¼š
  â€¢ ä½¿ç”¨ Git API è·å–ä»Šæ—¥æäº¤
  â€¢ ç”¨ Claude API ç”Ÿæˆæ‘˜è¦
  â€¢ è°ƒç”¨ Slack Webhook å‘é€
    â†“
ä½ ç¡®è®¤ â†’ AI æ‰§è¡Œ â†’ è®¾ç½®å®šæ—¶ä»»åŠ¡
```

**æ”¯æŒçš„è‡ªåŠ¨åŒ–ç±»å‹**ï¼š
- **æ–‡ä»¶æ“ä½œ**ï¼šç›‘æ§æ–‡ä»¶å¤¹å˜åŒ–ï¼Œè‡ªåŠ¨æ•´ç†
- **Git æ“ä½œ**ï¼šè‡ªåŠ¨ commitã€pushã€ç”Ÿæˆ PR
- **é€šçŸ¥å‘é€**ï¼šSlack/Discord/Email/Telegram
- **åº”ç”¨è”åŠ¨**ï¼šåˆ‡æ¢åº”ç”¨ã€æ‰§è¡Œè„šæœ¬
- **æ•°æ®å¤„ç†**ï¼šè°ƒç”¨ AI å¤„ç†æ–‡æœ¬/ä»£ç 

**æŠ€æœ¯å®ç°**ï¼š
- **NLU æ„å›¾è¯†åˆ«**ï¼šClaude API è§£æè‡ªç„¶è¯­è¨€
- **è„šæœ¬ç”Ÿæˆ**ï¼šAI ç”Ÿæˆ Go/Shell/Python è„šæœ¬
- **æ²™ç®±æ‰§è¡Œ**ï¼šå®‰å…¨åœ°æ‰§è¡Œç”¨æˆ·è„šæœ¬
- **ä»»åŠ¡è°ƒåº¦**ï¼š`github.com/robfig/cron` å®šæ—¶ä»»åŠ¡
- **æƒé™ç®¡ç†**ï¼šæ˜ç¡®å‘ŠçŸ¥ç”¨æˆ·è„šæœ¬è¦åšä»€ä¹ˆ

---

## æŠ€æœ¯æ¶æ„

### ç³»ç»Ÿåˆ†å±‚

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Wails å‰ç«¯å±‚                         â”‚
â”‚  - React/Vue UI                                        â”‚
â”‚  - å®æ—¶æ•°æ®å¯è§†åŒ– (ECharts)                             â”‚
â”‚  - å…¨å±€å¿«æ·é”®é¢æ¿                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                         WebSocket
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Go åç«¯æ ¸å¿ƒå±‚                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  äº‹ä»¶æ€»çº¿        äº‹ä»¶è·¯ç”±ä¸å¹¿æ’­                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ç›‘æ§å¼•æ“ (Monitor)      ç³»ç»Ÿçº§äº‹ä»¶æ•è·                  â”‚
â”‚  - CGEventTap (é”®ç›˜/é¼ æ ‡)                               â”‚
â”‚  - NSPasteboard (å‰ªè´´æ¿)                                â”‚
â”‚  - NSWorkspace (åº”ç”¨åˆ‡æ¢)                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ åˆ†æå¼•æ“ (Analyzer)    æ¨¡å¼è¯†åˆ«ä¸ AI ç†è§£              â”‚
â”‚  - åºåˆ—æ¨¡å¼æŒ–æ˜ (PrefixSpan)                            â”‚
â”‚  - äº‹ä»¶èšåˆä¸çª—å£åŒ–                                     â”‚
â”‚  - å¤ç”¨ ClaudeHeraldGo çš„ JSONL è§£æ                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ AI æœåŠ¡ (AI Service)   å¤šæ¨¡å‹é›†æˆ                       â”‚
â”‚  - Claude API (å¤æ‚ä»»åŠ¡)                                â”‚
â”‚  - Ollama (æœ¬åœ°ç®€å•ä»»åŠ¡)                                â”‚
â”‚  - æç¤ºè¯æ¨¡æ¿å¼•æ“                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ è‡ªåŠ¨åŒ–å¼•æ“ (Automation) å·¥ä½œæµç¼–æ’                     â”‚
â”‚  - è„šæœ¬ç”Ÿæˆå™¨ (Shell/Python/Go)                         â”‚
â”‚  - ä»»åŠ¡è°ƒåº¦å™¨ (cron)                                    â”‚
â”‚  - æ²™ç®±æ‰§è¡Œç¯å¢ƒ                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ é€šçŸ¥ç³»ç»Ÿ (Notifier)    å¤ç”¨ ClaudeHeraldGo            â”‚
â”‚  - æ¡Œé¢é€šçŸ¥                                           â”‚
â”‚  - Webhook é›†æˆ                                        â”‚
â”‚  - å»é‡ä¸å†·å´æœºåˆ¶                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â–²
                          â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         â–¼                             â”‚
â”‚           å­˜å‚¨å±‚ (Storage)                              â”‚
â”‚  - SQLite (äº‹ä»¶æ—¥å¿—ã€é…ç½®)                             â”‚
â”‚  - BBolt (é”®å€¼ç¼“å­˜)                                    â”‚
â”‚  - Chromem-go (å‘é‡æ•°æ®åº“)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ ¸å¿ƒæ¨¡å—è®¾è®¡

#### 1. ç›‘æ§å¼•æ“ (Monitor)
```go
// pkg/monitor/monitor.go
type Monitor struct {
    eventChan chan Event
    stopChan  chan struct{}
}

type Event struct {
    Type      EventType      `json:"type"`
    Timestamp time.Time      `json:"timestamp"`
    Data      interface{}    `json:"data"`
    Context   *EventContext  `json:"context"`
}

type EventContext struct {
    Application string `json:"application"`
    BundleID    string `json:"bundle_id"`
    WindowTitle string `json:"window_title"`
    FilePath    string `json:"file_path,omitempty"`
    Selection   string `json:"selection,omitempty"`  // é€‰ä¸­æ–‡æœ¬
}

// å¯åŠ¨ç›‘æ§
func (m *Monitor) Start() {
    go m.watchKeyboard()
    go m.watchClipboard()
    go m.watchAppSwitch()
    go m.watchFileSystem()
}

// macOS å®ç°
func (m *Monitor) watchKeyboard() {
    // CGO è°ƒç”¨ CGEventTapCreate
    tap := C.CGEventTapCreate(...)
    C.CGEventTapEnable(tap, 1)
    // ç›‘å¬å¿«æ·é”®
}
```

#### 2. åˆ†æå¼•æ“ (Analyzer)
```go
// pkg/analyzer/pattern.go
type PatternMiner struct {
    storage    Storage
    minSupport int  // æœ€å°æ”¯æŒåº¦ï¼ˆå‡ºç°æ¬¡æ•°ï¼‰
    windowSize time.Duration
}

// æŒ–æ˜é¢‘ç¹æ¨¡å¼
func (p *PatternMiner) MineFrequentPatterns() ([]Pattern, error) {
    // 1. ä» SQLite è·å–æœ€è¿‘ N å¤©çš„äº‹ä»¶
    events, _ := p.storage.GetEvents(time.Now().AddDate(0, 0, -7))

    // 2. åºåˆ—æ¨¡å¼æŒ–æ˜
    sequences := p.groupBySession(events)
    patterns := p.prefixSpan(sequences, p.minSupport)

    // 3. AI è¿‡æ»¤
    validPatterns := p.aiFilter(patterns)

    return validPatterns, nil
}

// æ£€æµ‹æ˜¯å¦åŒ¹é…å·²çŸ¥æ¨¡å¼
func (p *PatternMiner) DetectPattern(recentEvents []Event) *Pattern {
    for _, pattern := range p.knownPatterns {
        if pattern.Match(recentEvents) {
            return &pattern
        }
    }
    return nil
}
```

#### 3. AI æœåŠ¡ (AI Service)
```go
// pkg/ai/service.go
type AIService struct {
    claude   *ClaudeClient
    ollama   *OllamaClient
    prompter *PromptEngine
}

type PromptEngine struct {
    templates map[string]*PromptTemplate
}

type PromptTemplate struct {
    System    string            `json:"system"`
    User      string            `json:"user"`
    Variables map[string]string `json:"variables"`
}

// ç”Ÿæˆè‡ªåŠ¨åŒ–è„šæœ¬
func (a *AIService) GenerateAutomation(naturalLanguage string) (*AutomationScript, error) {
    prompt := fmt.Sprintf(`
ç”¨æˆ·éœ€æ±‚: %s

å¯ç”¨èƒ½åŠ›:
- æ–‡ä»¶æ“ä½œ (ç›‘æ§ã€ç§»åŠ¨ã€é‡å‘½å)
- Git æ“ä½œ (commit, push, PR)
- å‘é€é€šçŸ¥ (Slack, Discord)
- è°ƒç”¨ AI å¤„ç†æ–‡æœ¬
- Shell å‘½ä»¤æ‰§è¡Œ

è¯·ç”Ÿæˆä¸€ä¸ª Go è„šæœ¬æ¥å®ç°è¿™ä¸ªéœ€æ±‚ã€‚
è¾“å‡º JSON æ ¼å¼:
{
  "steps": [
    {"action": "...", "params": {...}}
  ],
  "schedule": "cron expression",
  "description": "..."
}
`, naturalLanguage)

    response := a.claude.Complete(prompt)
    return parseScript(response)
}

// ç†è§£ä¸Šä¸‹æ–‡
func (a *AIService) UnderstandContext(ctx *EventContext) (string, error) {
    prompt := fmt.Sprintf(`
å½“å‰ä¸Šä¸‹æ–‡:
- åº”ç”¨: %s
- æ–‡ä»¶: %s
- é€‰ä¸­æ–‡æœ¬: %s

ç”¨æˆ·å¯èƒ½åœ¨åšä»€ä¹ˆ? è¯·ç®€è¦æè¿°ã€‚
`, ctx.Application, ctx.FilePath, ctx.Selection)

    return a.claude.Complete(prompt)
}
```

#### 4. è‡ªåŠ¨åŒ–å¼•æ“ (Automation)
```go
// pkg/automation/engine.go
type AutomationEngine struct {
    scheduler *cron.Cron
    sandbox   *Sandbox
    ai        *AIService
}

type AutomationScript struct {
    ID          string        `json:"id"`
    Name        string        `json:"name"`
    Description string        `json:"description"`
    Steps       []Step        `json:"steps"`
    Schedule    string        `json:"schedule,omitempty"`
    Trigger     TriggerConfig `json:"trigger"`
}

type Step struct {
    Action string                 `json:"action"`
    Params map[string]interface{} `json:"params"`
}

// æ‰§è¡Œè‡ªåŠ¨åŒ–
func (e *AutomationEngine) Execute(script *AutomationScript) error {
    for _, step := range script.Steps {
        if err := e.executeStep(step); err != nil {
            return fmt.Errorf("step failed: %w", err)
        }
    }
    return nil
}

func (e *AutomationEngine) executeStep(step Step) error {
    switch step.Action {
    case "git.commit":
        return e.gitCommit(step.Params)
    case "slack.send":
        return e.slackSend(step.Params)
    case "ai.analyze":
        return e.aiAnalyze(step.Params)
    case "shell.exec":
        return e.shellExec(step.Params)
    default:
        return fmt.Errorf("unknown action: %s", step.Action)
    }
}
```

#### 5. å¤ç”¨ ClaudeHeraldGo ç»„ä»¶
```go
// å¤ç”¨è·¯å¾„
import (
    "github.com/chenyang-zz/claude-herald-go/pkg/jsonl"
    "github.com/chenyang-zz/claude-herald-go/internal/config"
    "github.com/chenyang-zz/claude-herald-go/internal/notifier"
    "github.com/chenyang-zz/claude-herald-go/internal/dedup"
)

// é›†æˆé€šçŸ¥
func (app *App) SendNotification(title, message string, status string) {
    notifier := notifier.New(app.config)
    notifier.SendDesktop(status, message)
}

// é›†æˆå»é‡
func (app *App) ShouldTrigger(eventID string) bool {
    dedupMgr := dedup.NewManager(app.tempDir)
    return dedupMgr.AcquireLock("automation", eventID)
}
```

---

## å…³é”®æ–‡ä»¶ç»“æ„

```
flowmind/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ flowmind/
â”‚       â””â”€â”€ main.go              # Wails å…¥å£
â”‚
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ monitor/                 # ç›‘æ§å¼•æ“
â”‚   â”‚   â”œâ”€â”€ keyboard.go          # é”®ç›˜ç›‘å¬ (macOS)
â”‚   â”‚   â”œâ”€â”€ clipboard.go         # å‰ªè´´æ¿ç›‘å¬
â”‚   â”‚   â”œâ”€â”€ application.go       # åº”ç”¨åˆ‡æ¢ç›‘å¬
â”‚   â”‚   â””â”€â”€ monitor.go           # ç›‘æ§å™¨ä¸»é€»è¾‘
â”‚   â”‚
â”‚   â”œâ”€â”€ analyzer/                # åˆ†æå¼•æ“
â”‚   â”‚   â”œâ”€â”€ pattern.go           # æ¨¡å¼æŒ–æ˜ç®—æ³•
â”‚   â”‚   â”œâ”€â”€ sequence.go          # åºåˆ—åŒ¹é…
â”‚   â”‚   â”œâ”€â”€ context.go           # ä¸Šä¸‹æ–‡åˆ†æ
â”‚   â”‚   â””â”€â”€ ai_filter.go         # AI è¿‡æ»¤å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ ai/                      # AI æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ claude.go            # Claude API å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ ollama.go            # Ollama å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ prompt.go            # æç¤ºè¯å¼•æ“
â”‚   â”‚   â””â”€â”€ templates/           # æç¤ºè¯æ¨¡æ¿
â”‚   â”‚       â”œâ”€â”€ automation.txt
â”‚   â”‚       â”œâ”€â”€ analysis.txt
â”‚   â”‚       â””â”€â”€ summary.txt
â”‚   â”‚
â”‚   â”œâ”€â”€ automation/              # è‡ªåŠ¨åŒ–å¼•æ“
â”‚   â”‚   â”œâ”€â”€ engine.go            # æ‰§è¡Œå¼•æ“
â”‚   â”‚   â”œâ”€â”€ scheduler.go         # ä»»åŠ¡è°ƒåº¦
â”‚   â”‚   â”œâ”€â”€ sandbox.go           # æ²™ç®±æ‰§è¡Œ
â”‚   â”‚   â”œâ”€â”€ steps/               # å…·ä½“æ­¥éª¤å®ç°
â”‚   â”‚   â”‚   â”œâ”€â”€ git.go
â”‚   â”‚   â”‚   â”œâ”€â”€ slack.go
â”‚   â”‚   â”‚   â”œâ”€â”€ shell.go
â”‚   â”‚   â”‚   â””â”€â”€ fileops.go
â”‚   â”‚   â””â”€â”€ generator.go         # è„šæœ¬ç”Ÿæˆå™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ storage/                 # å­˜å‚¨å±‚
â”‚   â”‚   â”œâ”€â”€ sqlite.go            # SQLite ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ vector.go            # å‘é‡æ•°æ®åº“ (chromem)
â”‚   â”‚   â”œâ”€â”€ models.go            # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ migrations/          # æ•°æ®åº“è¿ç§»
â”‚   â”‚
â”‚   â”œâ”€â”€ knowledge/               # çŸ¥è¯†ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ clipper.go           # å‰ªè—åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ tagger.go            # AI æ‰“æ ‡ç­¾
â”‚   â”‚   â”œâ”€â”€ summarizer.go        # AI æ‘˜è¦
â”‚   â”‚   â”œâ”€â”€ graph.go             # çŸ¥è¯†å›¾è°±
â”‚   â”‚   â””â”€â”€ search.go            # è¯­ä¹‰æœç´¢
â”‚   â”‚
â”‚   â”œâ”€â”€ ui/                      # UI æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ dashboard.go         # ä»ªè¡¨æ¿æ•°æ®
â”‚   â”‚   â”œâ”€â”€ panel.go             # å…¨å±€é¢æ¿
â”‚   â”‚   â””â”€â”€ events.go            # äº‹ä»¶å¹¿æ’­
â”‚   â”‚
â”‚   â””â”€â”€ config/                  # é…ç½®ç®¡ç†
â”‚       â”œâ”€â”€ config.go
â”‚       â””â”€â”€ default.yaml
â”‚
â”œâ”€â”€ frontend/                    # Wails å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.vue    # ä¸»ä»ªè¡¨æ¿
â”‚   â”‚   â”‚   â”œâ”€â”€ PatternList.vue  # æ¨¡å¼åˆ—è¡¨
â”‚   â”‚   â”‚   â”œâ”€â”€ AutomationEditor.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ KnowledgeGraph.vue
â”‚   â”‚   â”‚   â””â”€â”€ GlobalPanel.vue  # å…¨å±€å¿«æ·é”®é¢æ¿
â”‚   â”‚   â”œâ”€â”€ charts/
â”‚   â”‚   â”‚   â””â”€â”€ TimeDistribution.vue
â”‚   â”‚   â””â”€â”€ App.vue
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ scripts/                     # è„šæœ¬æ¨¡æ¿
â”‚   â”œâ”€â”€ shell-templates/
â”‚   â”œâ”€â”€ python-templates/
â”‚   â””â”€â”€ go-templates/
â”‚
â”œâ”€â”€ build/
â”‚   â””â”€â”€ appicon.png
â”‚
â”œâ”€â”€ pkg/
â”‚   â””â”€â”€ events/                  # äº‹ä»¶ç³»ç»Ÿ
â”‚       â””â”€â”€ bus.go               # äº‹ä»¶æ€»çº¿
â”‚
â”œâ”€â”€ wails.json                   # Wails é…ç½®
â”œâ”€â”€ go.mod
â””â”€â”€ README.md
```

---

## å®æ–½è·¯çº¿å›¾

### Phase 1: åŸºç¡€ç›‘æ§ (2-3 å‘¨)
**ç›®æ ‡**ï¼šå»ºç«‹ç³»ç»Ÿç›‘æ§èƒ½åŠ›

**ä»»åŠ¡**ï¼š
1. âœ… åˆå§‹åŒ– Wails é¡¹ç›®
2. âœ… å®ç° macOS é”®ç›˜/å¿«æ·é”®ç›‘å¬ (CGO)
3. âœ… å®ç°å‰ªè´´æ¿ç›‘å¬ (NSPasteboard)
4. âœ… å®ç°åº”ç”¨åˆ‡æ¢ç›‘å¬ (NSWorkspace)
5. âœ… è®¾è®¡ SQLite schema
6. âœ… å®ç°äº‹ä»¶å­˜å‚¨å’ŒæŸ¥è¯¢
7. âœ… é›†æˆ ClaudeHeraldGo é€šçŸ¥ç³»ç»Ÿ

**éªŒæ”¶æ ‡å‡†**ï¼š
- èƒ½è®°å½•ç”¨æˆ·æ‰€æœ‰å…³é”®æ“ä½œ
- äº‹ä»¶æ•°æ®æ­£ç¡®å­˜å‚¨åˆ°æ•°æ®åº“
- æ§åˆ¶å°å®æ—¶è¾“å‡ºäº‹ä»¶æ—¥å¿—

### Phase 2: æ¨¡å¼è¯†åˆ« (2-3 å‘¨)
**ç›®æ ‡**ï¼šAI å‘ç°é‡å¤æ¨¡å¼

**ä»»åŠ¡**ï¼š
1. âœ… å®ç°åºåˆ—æ¨¡å¼æŒ–æ˜ç®—æ³• (PrefixSpan)
2. âœ… äº‹ä»¶ä¼šè¯åˆ’åˆ†å’Œçª—å£åŒ–
3. âœ… å®ç° Pattern Miner
4. âœ… é›†æˆ Claude API è¿›è¡Œ AI è¿‡æ»¤
5. âœ… è®¾è®¡è‡ªåŠ¨åŒ–å»ºè®® UI
6. âœ… å®ç°æ¨¡å¼-è‡ªåŠ¨åŒ–è„šæœ¬æ˜ å°„

**éªŒæ”¶æ ‡å‡†**ï¼š
- èƒ½æ£€æµ‹åˆ°ç”¨æˆ·é‡å¤æ“ä½œï¼ˆå¦‚å¯åŠ¨å¼€å‘ç¯å¢ƒï¼‰
- AI æ­£ç¡®åˆ¤æ–­å“ªäº›æ¨¡å¼å€¼å¾—è‡ªåŠ¨åŒ–
- UI æ˜¾ç¤ºè‡ªåŠ¨åŒ–å»ºè®®åˆ—è¡¨

### Phase 3: AI åŠ©æ‰‹é¢æ¿ (2 å‘¨)
**ç›®æ ‡**ï¼šå…¨å±€å¿«æ·é”® + ä¸Šä¸‹æ–‡æ„ŸçŸ¥

**ä»»åŠ¡**ï¼š
1. âœ… å®ç°å…¨å±€å¿«æ·é”®æ³¨å†Œ
2. âœ… å®ç°åŠé€æ˜å…¨å±€é¢æ¿ (Wails)
3. âœ… macOS Accessibility API è·å–ä¸Šä¸‹æ–‡
4. âœ… Claude API æµå¼å¯¹è¯
5. âœ… ä»£ç æ³¨å…¥åŠŸèƒ½
6. âœ… è®¾è®¡å¯¹è¯ UI

**éªŒæ”¶æ ‡å‡†**ï¼š
- æŒ‰ Cmd+Shift+M å”¤èµ·é¢æ¿
- AI çŸ¥é“å½“å‰åº”ç”¨å’Œé€‰ä¸­çš„å†…å®¹
- å¯ä»¥æ’å…¥ä»£ç /æ–‡æœ¬åˆ°å½“å‰åº”ç”¨

### Phase 4: æ™ºèƒ½å‰ªè—ä¸çŸ¥è¯†å›¾è°± (3 å‘¨)
**ç›®æ ‡**ï¼šAI çŸ¥è¯†ç®¡ç†

**ä»»åŠ¡**ï¼š
1. âœ… å®ç°å¿«æ·é”®å‰ªè—
2. âœ… é›†æˆ Claude API ç”Ÿæˆæ ‡ç­¾å’Œæ‘˜è¦
3. âœ… é›†æˆ chromem-go å‘é‡æ•°æ®åº“
4. âœ… å®ç°è¯­ä¹‰æœç´¢
5. âœ… è®¾è®¡çŸ¥è¯†å›¾è°±å¯è§†åŒ–
6. âœ… å®ç°æ™ºèƒ½æ¨èï¼ˆä¸Šä¸‹æ–‡è§¦å‘ï¼‰

**éªŒæ”¶æ ‡å‡†**ï¼š
- å‰ªè—å†…å®¹è‡ªåŠ¨æ‰“æ ‡ç­¾
- è¯­ä¹‰æœç´¢è¿”å›ç›¸å…³ç»“æœ
- çŸ¥è¯†å›¾è°±æ˜¾ç¤ºå†…å®¹å…³è”

### Phase 5: è‡ªåŠ¨åŒ–å¼•æ“ (3 å‘¨)
**ç›®æ ‡**ï¼šè‡ªç„¶è¯­è¨€ â†’ è‡ªåŠ¨åŒ–è„šæœ¬

**ä»»åŠ¡**ï¼š
1. âœ… è®¾è®¡è‡ªåŠ¨åŒ– DSL (JSON Schema)
2. âœ… å®ç° AI è„šæœ¬ç”Ÿæˆå™¨
3. âœ… å®ç°æ²™ç®±æ‰§è¡Œç¯å¢ƒ
4. âœ… å®ç°ä»»åŠ¡è°ƒåº¦å™¨ (cron)
5. âœ… å®ç°å¸¸ç”¨æ­¥éª¤ (Git/Slack/Shell)
6. âœ… è®¾è®¡è‡ªåŠ¨åŒ–ç¼–è¾‘å™¨ UI

**éªŒæ”¶æ ‡å‡†**ï¼š
- ç”¨æˆ·æè¿°éœ€æ±‚ï¼ŒAI ç”Ÿæˆå¯æ‰§è¡Œè„šæœ¬
- è„šæœ¬åœ¨æ²™ç®±ä¸­å®‰å…¨æ‰§è¡Œ
- æ”¯æŒå®šæ—¶ä»»åŠ¡å’Œäº‹ä»¶è§¦å‘

### Phase 6: å¯è§†åŒ–ä»ªè¡¨æ¿ (2 å‘¨)
**ç›®æ ‡**ï¼šå·¥ä½œæµæ•°æ®å¯è§†åŒ–

**ä»»åŠ¡**ï¼š
1. âœ… å®ç°æ•°æ®èšåˆ API
2. âœ… é›†æˆ ECharts æˆ– go-chart
3. âœ… è®¾è®¡ä»ªè¡¨æ¿ UI
4. âœ… å®ç°æ—¶é—´åˆ†å¸ƒå›¾
5. âœ… å®ç°å·¥ä½œæµå›¾ (Sankey)
6. âœ… AI æ´å¯Ÿç”Ÿæˆ

**éªŒæ”¶æ ‡å‡†**ï¼š
- æ¼‚äº®çš„ä»ªè¡¨æ¿å±•ç¤ºæ—¶é—´åˆ†å¸ƒ
- å·¥ä½œæµå›¾æ¸…æ™°å±•ç¤ºæ“ä½œæµç¨‹
- AI æä¾›æœ‰ä»·å€¼çš„ä¼˜åŒ–å»ºè®®

### Phase 7: æ‰“ç£¨ä¸ä¼˜åŒ– (2 å‘¨)
**ç›®æ ‡**ï¼šäº§å“åŒ–

**ä»»åŠ¡**ï¼š
1. âœ… æ€§èƒ½ä¼˜åŒ–ï¼ˆå‡å°‘ CPU/å†…å­˜å ç”¨ï¼‰
2. âœ… æƒé™æç¤ºå’Œå¼•å¯¼
3. âœ… é”™è¯¯å¤„ç†å’Œæ—¥å¿—
4. âœ… å•å…ƒæµ‹è¯•å’Œé›†æˆæµ‹è¯•
5. âœ… æ–‡æ¡£ç¼–å†™
6. âœ… æ‰“åŒ…å’Œåˆ†å‘

**éªŒæ”¶æ ‡å‡†**ï¼š
- åº”ç”¨åœ¨åå°è¿è¡Œå ç”¨èµ„æº < 2% CPU
- ç”¨æˆ·ä½“éªŒæµç•…ï¼Œæ— å´©æºƒ
- å®Œæ•´çš„ç”¨æˆ·æ–‡æ¡£

---

## å…³é”®æŠ€æœ¯ç‚¹

### 1. macOS ç³»ç»Ÿæƒé™
éœ€è¦åœ¨ `Info.plist` å£°æ˜ï¼š
```xml
<key>NSAccessibilityUsageDescription</key>
<string>FlowMind éœ€è¦è¾…åŠ©åŠŸèƒ½æƒé™æ¥ç›‘å¬ä½ çš„æ“ä½œ</string>

<key>NSAppleEventsUsageDescription</key>
<string>éœ€è¦æ§åˆ¶å…¶ä»–åº”ç”¨æ¥å®ç°è‡ªåŠ¨åŒ–</string>
```

### 2. CGO è°ƒç”¨ macOS API
```go
/*
#include <ApplicationServices/ApplicationServices.h>
*/
import "C"

func createEventTap() C.CGEventTapRef {
    return C.CGEventTapCreate(...)
}
```

### 3. Wails å®æ—¶é€šä¿¡
```go
// Go åç«¯
func (app *App) EventsEmit() chan Event {
    return app.eventChan
}

// å‰ç«¯
import { EventsOn } from '../../wailsjs/runtime'
EventsOn("event", (event) => {
    console.log("New event:", event)
})
```

### 4. å‘é‡æœç´¢
```go
// chromem-go
collection, _ := chromem.NewCollection(chromem.WithEmbeddingFunc(embed))

// æ·»åŠ æ–‡æ¡£
collection.AddDocument(doc, text)

// æœç´¢
results := collection.Query(query, 5) // top 5
```

### 5. å®‰å…¨çš„è„šæœ¬æ‰§è¡Œ
```go
func (s *Sandbox) Execute(script string) error {
    // 1. ç™½åå•æ£€æŸ¥
    if !s.isWhitelisted(script) {
        return ErrNotAllowed
    }

    // 2. èµ„æºé™åˆ¶
    cmd := exec.Command("timeout", "30s", "sh", "-c", script)

    // 3. ç”¨æˆ·ç¡®è®¤
    confirmed := s.askUser(script)
    if !confirmed {
        return ErrUserCancelled
    }

    return cmd.Run()
}
```

---

## é£é™©ä¸æŒ‘æˆ˜

### æŠ€æœ¯é£é™©
1. **macOS æƒé™æ”¶ç´§**ï¼šæœªæ¥ç‰ˆæœ¬å¯èƒ½é™åˆ¶æŸäº› API
   - ç¼“è§£ï¼šæä¾›é™çº§æ–¹æ¡ˆï¼Œå¦‚ä»…ç›‘æ§ä¸è‡ªåŠ¨æ‰§è¡Œ

2. **æ€§èƒ½é—®é¢˜**ï¼šå…¨é‡ç›‘æ§å¯èƒ½å ç”¨èµ„æº
   - ç¼“è§£ï¼šé‡‡æ ·ç›‘æ§ã€æ™ºèƒ½è¿‡æ»¤ã€ç”¨æˆ·å¯é…ç½®ç›‘æ§çº§åˆ«

3. **AI API æˆæœ¬**ï¼šé¢‘ç¹è°ƒç”¨ Claude API
   - ç¼“è§£ï¼šæœ¬åœ° Ollama å¤„ç†ç®€å•ä»»åŠ¡ï¼Œç¼“å­˜ç»“æœ

### ç”¨æˆ·ä½“éªŒé£é™©
1. **éšç§æ‹…å¿§**ï¼šç”¨æˆ·æ‹…å¿ƒç›‘æ§æ•°æ®
   - ç¼“è§£ï¼šæ‰€æœ‰æ•°æ®æœ¬åœ°å­˜å‚¨ï¼Œæ˜ç¡®å‘ŠçŸ¥æ•°æ®ç”¨é€”ï¼Œæä¾›åˆ é™¤é€‰é¡¹

2. **å­¦ä¹ æ›²çº¿**ï¼šåŠŸèƒ½å¤ªå¤šå¯èƒ½éš¾ä¸Šæ‰‹
   - ç¼“è§£ï¼šæ¸è¿›å¼å¼•å¯¼ï¼Œé»˜è®¤å…³é—­é«˜çº§åŠŸèƒ½

3. **è¯¯æŠ¥é—®é¢˜**ï¼šAI å»ºè®®çš„è‡ªåŠ¨åŒ–å¯èƒ½ä¸å‡†ç¡®
   - ç¼“è§£ï¼šç”¨æˆ·å¿…é¡»ç¡®è®¤æ‰æ‰§è¡Œï¼Œæä¾›åé¦ˆæœºåˆ¶ä¼˜åŒ– AI

---

## å·®å¼‚åŒ–ä¼˜åŠ¿

ä¸ç°æœ‰å·¥å…·å¯¹æ¯”ï¼š

| åŠŸèƒ½ | FlowMind | Alfred | Raycast | Shortcuts |
|------|----------|--------|---------|-----------|
| **AI ç†è§£æ„å›¾** | âœ… | âŒ | âŒ | âŒ |
| **è‡ªåŠ¨å‘ç°æ¨¡å¼** | âœ… | âŒ | âŒ | âŒ |
| **ä¸Šä¸‹æ–‡æ„ŸçŸ¥** | âœ… | âŒ | éƒ¨åˆ† | âŒ |
| **çŸ¥è¯†å›¾è°±** | âœ… | âŒ | âŒ | âŒ |
| **å·¥ä½œæµå¯è§†åŒ–** | âœ… | âŒ | âŒ | âŒ |
| **è·¨åº”ç”¨è”åŠ¨** | âœ… | âœ… | âœ… | âœ… |
| **è‡ªç„¶è¯­è¨€** | âœ… | âŒ | âŒ | âŒ |

**æ ¸å¿ƒå®šä½**ï¼š
- ä¸æ˜¯å·¥å…·å¯åŠ¨å™¨ï¼ˆAlfred/Raycastï¼‰
- ä¸æ˜¯è‡ªåŠ¨åŒ–è„šæœ¬ç¼–è¾‘å™¨ï¼ˆShortcutsï¼‰
- è€Œæ˜¯ **AI é©±åŠ¨çš„æ™ºèƒ½å·¥ä½œæµä¼´ä¾£**

---

## ä¸‹ä¸€æ­¥

å¦‚æœä½ è®¤å¯è¿™ä¸ªæ–¹æ¡ˆï¼Œæˆ‘å°†ï¼š
1. åˆ›å»ºé¡¹ç›®éª¨æ¶ï¼ˆWails + Goï¼‰
2. å®ç° Phase 1 çš„ç›‘æ§å¼•æ“
3. é›†æˆ ClaudeHeraldGo çš„é€šçŸ¥ç³»ç»Ÿ
4. é€æ­¥æ¨è¿›åˆ°å…¶ä»–åŠŸèƒ½æ¨¡å—

è®©æˆ‘ä»¬å¼€å§‹å§ï¼ğŸš€
